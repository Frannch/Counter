<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="sprites/favicon.ico">
    <link rel="stylesheet" href="estilos/estilo.css">
    <title>Inicio</title>
</head>

<body>
  <!-- Modal de tema -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-content">
      <h2>Eleg√≠ un tema</h2>
      <div class="theme-actions">
        <button class="btn primary" onclick="seleccionarTema('tema1')">Fran</button>
        <button class="btn primary" onclick="seleccionarTema('tema2')">Ro</button>
      </div>
    </div>
  </div>

  <!-- Encabezado moderno -->
  <header class="site-header">
    <div class="brand">
      <img src="sprites/favicon.ico" alt="Logo" class="brand-logo">
      <h1 class="brand-title">Counter Hub</h1>
    </div>
    <div class="header-actions">
      <button id="cambiar-tema" class="fab" title="Cambiar tema">üé®</button>
    </div>
  </header>

  <!-- Contenido principal -->
  <main class="container">
    <section class="grid">
      <a class="card" href="html/count2.html">
        <div class="card-body">
          <h3>Contador</h3>
          <p>Tiempo juntosüíñ.</p>
        </div>
      </a>
      <a class="card" href="html/movies.html">
        <div class="card-body">
          <h3>Rese√±as de Cine</h3>
          <p>Opiniones y cr√≠ticas.</p>
        </div>
      </a>
      </a>
      <a class="card" href="html/mapa.html">
        <div class="card-body">
          <h3>Mapa</h3>
          <p>Lugares especiales.</p>
        </div>
      </a>
      <a class="card" href="html/reasons.html">
        <div class="card-body">
          <h3>Reasons</h3>
          <p>Ruleta de razones.</p>
        </div>
        <!--
      </a>
       <a class="card" href="html/lock.html">
        <div class="card-body">
          <h3>Caja Fuerte</h3>
          <p>Ultra secreto.</p>
        </div>
      </a>
      
      <a class="card" href="html/cartas.html">
        <div class="card-body">
          <h3>P√≥kemon</h3>
          <p>Cartas.</p>
        </div>
      </a>
      <a class="card" href="html/Juegos.html">
        <div class="card-body">
          <h3>Juegos</h3>
          <p>Mini juegos para pasar el rato.</p>
        </div>
      </a>
      <a class="card" href="html/anim.html">
        <div class="card-body">
          <h3>Galer√≠a de Animaciones</h3>
          <p>Animaciones y efectos.</p>
        </div>
      </a>
      <a class="card" href="https://frannch.github.io/Fonemas">
        <div class="card-body">
          <h3>Fonemas</h3>
          <p>Recursos de fon√©tica.</p>
        </div>
      </a>
      <a class="card" href="https://frannch.github.io/Base-date/">
        <div class="card-body">
          <h3>Libros</h3>
          <p>Base de datos de libros.</p>
        </div>
      </a>
      <a class="card" href="html/ruleta.html">
        <div class="card-body">
          <h3>Ruleta</h3>
          <p>Gira y decide.</p>
        </div>
      </a>
    -->
      <a class="card" href="html/extr.html">
        <div class="card-body">
          <h3>Extras</h3>
          <p>Contenido adicional.</p>
        </div>
      </a>
      <!--<a class="card" href="html/creaciones.html">
        <div class="card-body">
          <h3>Creaciones</h3>
          <p>Proyectos y arte.</p>
        </div>
      </a>
     <a class="card" href="html/saw.html">
        <div class="card-body">
          <h3>Codex</h3>
          <p>Combinaci√≥n secreta.</p>
        </div>
      </a>
    </section>
  </main>-->

  <!-- Card con desbloqueo por fecha -->
  <a
    class="card"
    id="card-release"
    href="html/lobby.html"
    data-release="2026-01-03T10:00:00-03:00"              
    data-unlocked-title="Summer Games"
    data-unlocked-desc="Round 2"
    aria-disabled="true"
  >
    <div class="card-body">
      <h3 id="release-title">Se desbloquea en‚Ä¶</h3>
      <p id="release-count">--d --h --m --s</p>
    </div>
  </a>

  <script>
  function seleccionarTema(tema) {
    localStorage.setItem('tema', tema);
    document.getElementById('modal').style.display = 'none';
    aplicarTema();
  }
  function aplicarTema() {
    const tema = localStorage.getItem('tema');
    const pagina = window.location.pathname.split("/").pop();

    // limpiar clases previas
    document.body.classList.remove(
      'tema-ro',
      'fondo-index-tema1', 'fondo-index-tema2',
      'fondo-contador-tema1', 'fondo-contador-tema2'
    );

    if (tema === 'tema1') {
      // tema Fran (texto claro por defecto)
      if (pagina === 'index.html' || pagina === '') {
        document.body.classList.add('fondo-index-tema1');
      } else if (pagina === 'count.html' || pagina === 'count2.html') {
        document.body.classList.add('fondo-contador-tema1');
      }
    } else if (tema === 'tema2') {
      // tema Ro: texto negro
      document.body.classList.add('tema-ro');
      if (pagina === 'index.html' || pagina === '') {
        document.body.classList.add('fondo-index-tema2');
      } else if (pagina === 'count.html' || pagina === 'count2.html') {
        document.body.classList.add('fondo-contador-tema2');
      }
    }
  }

  // Detectar dispositivo m√≥vil
  function esMovil() {
    return /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)
           || window.matchMedia('(pointer:coarse)').matches;
  }

  window.addEventListener('DOMContentLoaded', () => {
    aplicarTema();
    const tema = localStorage.getItem('tema');
    const modal = document.getElementById('modal');
    if (tema && modal) modal.style.display = 'none';
    document.getElementById('cambiar-tema').addEventListener('click', () => {
      modal.style.display = 'flex';
    });

    // Countdown de desbloqueo
    const card = document.getElementById('card-release');
    if (card) {
      // Bloqueo en m√≥viles
      card.addEventListener('click', (e) => {
        if (esMovil()) {
          e.preventDefault();
          e.stopPropagation();
          alert('Solo disponible en PC');
        }
      }, true);

      const targetStr = card.getAttribute('data-release');
      const unlockedTitle = card.getAttribute('data-unlocked-title') || 'Disponible';
      const unlockedDesc = card.getAttribute('data-unlocked-desc') || '';
      const titleEl = document.getElementById('release-title');
      const countEl = document.getElementById('release-count');
      const target = Date.parse(targetStr);

      function fmt(ms){
        const d = Math.floor(ms / 86400000);
        const h = Math.floor((ms % 86400000) / 3600000);
        const m = Math.floor((ms % 3600000) / 60000);
        const s = Math.floor((ms % 60000) / 1000);
        return `${d}d ${h}h ${m}m ${s}s`;
      }

      function tick(){
        const diff = target - Date.now();
        if (isNaN(target)) {
          titleEl.textContent = 'Fecha inv√°lida';
          countEl.textContent = '';
          return;
        }
        if (diff <= 0) {
          titleEl.textContent = unlockedTitle;
          countEl.textContent = unlockedDesc;
          card.removeAttribute('aria-disabled');
          card.style.pointerEvents = 'auto';
          card.style.opacity = '';
          clearInterval(int);
        } else {
          titleEl.textContent = 'Se desbloquea en‚Ä¶';
          countEl.textContent = fmt(diff);
          card.setAttribute('aria-disabled','true');
          card.style.pointerEvents = 'none';
          card.style.opacity = '.75';
        }
      }
      const int = setInterval(tick, 1000);
      tick();
    }
  });
  </script>
</body>

</html>